<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">


  <title>Pathvisiojs Simple Built Production Example</title>

  <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.min.css" media="screen">
  <link rel="stylesheet" href="../build/css/pathvisiojs.css" media="screen">

  <script src="../lib/aight//aight.js"></script>
  <script src="../lib/es5-shim/es5-sham.js"></script>
  <!--[if lt IE 9]>
  <![endif]-->

</head>

<body>
  <div id="body">
    <div id="header">
      <h1>Pathvisiojs Simple Built Production Example</h1>
    </div>
    <div id="main">
      <div id="production-container" style="width: 500px; height: 500px; border:1px solid black; ">
      </div>
    </div>
    <div id="footer">
      <p>(c) WikiPathways 2013</p>
    </div>
  </div>
  <script src="../lib/rgb-color/rgb-color.min.js"></script>
  <script src="../lib/strcase/dist/strcase.min.js"></script>
  <script src="../lib/async/lib/async.js"></script>
  <script src="../lib/d3/d3.min.js"></script>
  <script src="../lib/aight/aight.d3.min.js"></script>
  <script src="../lib/jquery/jquery.min.js"></script>
  <script src="../lib/typeahead.js/dist/typeahead.min.js"></script>
  <script src="../lib/modernizr/modernizr.js"></script>
  <script src="../lib/svg-pan-zoom/svg-pan-zoom.js"></script>
  <script src="../lib/node-uuid/uuid.js"></script>
  <script src="../lib/blueimp-load-image/js/load-image.min.js"></script>
  <script src="../lib/jsonld.js/js/jsonld.js"></script>
  <script src="../lib/jsonld.js/js/Promise.js"></script>
  <script src="../build/js/pathvisio.js"></script>
  <script src="./compare.js"></script>

  <script>
    var Modernizr = Modernizr || {};
    async.waterfall([
      function(callback) {
        developmentLoader.parseUriParams(function(parsedInputData) {
          callback(null, parsedInputData);
        });
      },    
      function(parsedInputData, callback) {
        /* *******************
        /* Load pathvisiojs
        /* *******************/

        pathvisiojs.load({
          container: '#production-container', //as of now, this can only be a CSS selector: http://www.w3.org/TR/CSS2/selector.html
          fitToContainer:true, //A fitToContainer value of false means that the diagram should be the size specified by the diagram creator, without any scaling (full size as per GPML width and height). A value of true means that diagram should be scaled down, if required, to fit entirely within the element specified by the container selector, while preserving aspect ratio. 
          sourceData:parsedInputData.sourceData, //at least one element required
          //cssUri: srcDirectoryUri + 'css/pathway-diagram.css',
          //customMarkers: customMarkers,
          //customSymbols: customSymbols,
          bridgedbLinkOutsUriStub: 'http://pointer.ucsf.edu/d3/r/data-sources/bridgedb/bridgedb.php/', // optional
          bridgedbDatasources: 'http://pointer.ucsf.edu/d3/r/data-sources/bridgedb-datasources.php', // optional
          diagramLoadingIconUri: 'http://www.wikipathways.org/wpi/extensions/PathwayViewer/img/loading.gif', // optional
          diagramNotAvailableIconUri: 'http://www.wikipathways.org/wpi/extensions/PathwayViewer/img/imageNotAvailable.jpg', // optional
          imgDiagramUriStub: 'http://www.wikipathways.org/wpi.php?action=downloadFile&type=png&pwTitle=Pathway:', // optional
          pathwaySearchUriStub: 'http://wikipathways.org//index.php?title=Special:SearchPathways&doSearch=1&query=', // optional
          highlightNodes: [
            {'parameter': 'label', 'parameterValue': 'CRH', 'color': 'red'},
            {'parameter': 'xref', 'parameterValue': '8525,Entrez%20Gene', 'color': '#FF0000'}
          ],
          hiddenElements: [
            'find',
            'wikipathways-link'
          ]
        });

        callback(null);
      }    
    ]);
  </script>

</body>
