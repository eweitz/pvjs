{
  "name": "@wikipathways/pvjs",
  "version": "4.0.0-13",
  "main": "index.js",
  "bin": {
    "pvjs": "./bin/pvjs"
  },
  "files": [
    "lib/",
    "bin/",
    "dist/",
    "test/expected"
  ],
  "scripts": {
    "build": "npm-run-all bundle build:css build:dist",
    "build:css": "tcm src",
    "build:dev:browser": "webpack --config webpack.browser.dev.config.js",
    "build:dev:node": "webpack --config webpack.node.dev.config.js",
    "build:dist": "rm -rf ./dist && npm run build:lib && npm-run-all -p build:dist:*",
    "build:dist:browser": "webpack --config webpack.browser.dist.config.js",
    "build:dist:node": "webpack --config webpack.node.dist.config.js",
    "build:lib": "rm -rf ./lib && npm-run-all -p build:lib:*",
    "build:lib:assets": "rsync -a --delete --include='*.json' --include='*.svg' --include='*.css' --include='*/' --exclude='*' src/ lib/",
    "build:lib:ts": "tsc --project tsconfig.esnext.json",
    "deleteUnconvertables": "echo 'TODO why does WP1_73346 fail for pvjs and WP481 fail for gpml2pvjson? Deleting for now...'; source_dir=\"./node_modules/gpml2pvjson/test/expected\"; rm -f \"$source_dir/WP1_73346.json\" \"$source_dir/WP481.json\"",
    "deploy": "npm run build && host=dev.wikipathways.org && rsync dist/pvjs.js $host:/var/www/$host/wpi/js/pvjs/",
    "expected": "echo 'Setting expected values for tests'; npm-run-all expected:* || break",
    "expected:checksums": "echo \"Converting JSON (from GPML test files) to SVG and generating checksums:\"; npm run deleteUnconvertables; source_dirname=./node_modules/gpml2pvjson/test/expected; for source_file in $source_dirname/*.json; do output_file=`echo $source_file | sed s#$source_dirname#test/expected# | sed 's/\\.json//'`\".svg\"; echo \"$source_file -> $output_file and $output_file.sha1sum\"; cat \"$source_file\" | bin/pvjs --react | tee \"$output_file\" | shasum -p -a 1 > \"$output_file.sha1sum\" || break; done",
    "bundle": "npm-run-all bundle:*",
    "bundle:icons": "npm-run-all -p bundle:icons:*",
    "bundle:icons:plain": "kaavio bundle icons ./src/drawers/icons/plain.json -o ./src/drawers/IconBundle.plain.tsx",
    "bundle:icons:pretty": "kaavio bundle icons ./src/drawers/icons/pretty.json -o ./src/drawers/IconBundle.pretty.tsx",
    "postinstall": "npm-run-all bundle; echo \"\\nBuilding expected SVGs for testing purposes...:\"; npm run deleteUnconvertables; inputs=\"./node_modules/gpml2pvjson/test/expected/*.json\"; echo \"# Converting $inputs from JSON to SVG and verifying checksums...\"; for f in $inputs; do pathway_name=`basename \"$f\" | sed s/.json//`; base_path=`echo \"./test/expected/$pathway_name\"`; echo \"\\n## Processing $pathway_name...\"; cat \"$f\" | bin/pvjs --react | tee \"$base_path.svg\" | shasum -p -a 1 -c \"$base_path.svg.sha1sum\" || break; done",
    "prepublishOnly": "npm-run-all build test expected",
    "test": "npm-run-all test:browser test:convertOne test:quick test:checksums",
    "test:browser": "echo 'get browser tests working'",
    "test:checksums": "npm run deleteUnconvertables; inputs=\"./node_modules/gpml2pvjson/test/expected/*.json\"; echo \"# Converting $inputs from JSON to SVG and verifying checksums...\"; for f in $inputs; do pathway_name=`basename \"$f\" | sed s/.json//`; base_path=`echo \"./test/expected/$pathway_name\"`; echo \"\\n## Processing $pathway_name...\"; cat \"$f\" | bin/pvjs --react | shasum -p -a 1 -c \"$base_path.svg.sha1sum\" || break; done",
    "test:convertAll": "npm run deleteUnconvertables; inputs=\"./node_modules/gpml2pvjson/test/expected/*.json\"; echo \"# Converting $inputs from JSON to SVG...\"; for f in $inputs; do pathway_name=`basename \"$f\" | sed s/.json//`; base_path=`echo \"./test/expected/$pathway_name\"`; echo \"\\n## Processing $pathway_name...\"; cat \"$f\" | bin/pvjs --react | xmllint - > /dev/null || break; done",
    "test:convertOne": "cat WP528_92047.json | ./bin/pvjs --theme pretty > WP528_92047.pretty.svg",
    "test:quick": "input=\"./node_modules/gpml2pvjson/test/expected/WP1243_69897.json\" && echo \"# Converting $input from JSON to SVG...\" && pathway_name=`basename \"$input\" | sed s/.json//`; base_path=`echo \"./test/expected/$pathway_name\"`; result=$(cat \"$input\" | bin/pvjs --react | xmllint --xpath \"count(//*[contains(concat(' ',normalize-space(@class),' '),' Icon ')])\" -); if [[ ! $result -eq 88 ]]; then echo 'fail'; fi;",
    "start": "npm run watch:browser",
    "watch": "rm -rf dist && npm run build:css && npm run build:lib && npm-run-all -p watch:*",
    "watch:css": "tcm src --watch",
    "watch:lib": "npm-run-all -p watch:lib:*",
    "watch:lib:assets": "npm run build:lib:assets && onchange 'src/**' -- npm run build:lib:assets",
    "watch:lib:ts": "tsc --project tsconfig.esnext.json --watch",
    "watch:browser": "webpack-dev-server --config webpack.browser.dev.config.js --open --progress --inline",
    "watch:node": "webpack --config webpack.node.dev.config.js --watch",
    "watch:test": "onchange 'dist/**' -- npm run test:quick"
  },
  "author": "",
  "license": "Apache-2.0",
  "description": "",
  "dependencies": {
    "kaavio": "^4.0.0-30",
    "react": "^15.6.2",
    "react-addons-css-transition-group": "^15.6.2",
    "react-addons-shallow-compare": "^15.6.2",
    "react-dom": "^15.6.2"
  },
  "devDependencies": {
    "@types/js-base64": "^2.1.5",
    "@types/node": "^8.0.41",
    "@types/react": "github:ariutta/types-react-v15#50edb5d",
    "@types/react-dom": "^15.5.6",
    "autoprefixer": "^7.1.6",
    "babel-core": "^6.26.0",
    "babel-loader": "^7.1.2",
    "babel-preset-env": "^1.6.0",
    "babel-preset-es2015": "^6.24.1",
    "babel-preset-es2016": "^6.24.1",
    "babel-preset-react": "^6.24.1",
    "expose-loader": "^0.7.3",
    "extract-text-webpack-plugin": "^3.0.2",
    "gpml2pvjson": "^3.0.0-3",
    "npm-run-all": "^4.1.1",
    "onchange": "^3.2.1",
    "postcss-loader": "^2.0.8",
    "precss": "^2.0.0",
    "rimraf": "^2.6.2",
    "source-map-loader": "^0.2.3",
    "string-replace-webpack-plugin": "^0.1.3",
    "to-string-loader": "^1.1.5",
    "ts-loader": "^2.3.7",
    "typed-css-modules": "^0.3.1",
    "typescript": "^2.5.3",
    "uglifyjs-webpack-plugin": "^0.4.6",
    "webpack": "^3.7.1",
    "webpack-dev-server": "^2.9.2",
    "webpack-hot-middleware": "^2.20.0"
  }
}
